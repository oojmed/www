parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ZCa7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.geneNames=void 0;const e=["ageDegrade","hungerDegrade","mutateChance","matingRadius","reproduceFoodNeeded","reproduceFoodGiven","eatingEfficiency","movingSpeed","reproductionCooldown","reproductionAgeNeeded","eatingSpeed","colorHue","colorLightness"];exports.geneNames=e;
},{}],"ijVA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./util"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}class n{constructor(t,r){this.name=t,this.num=r||e.getRandomInt(0,101)}mutate(){let t=e.getRandomInt(0,101);return this.num=t,this}}exports.default=n;
},{"./util":"IZvH"}],"AzXr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.none=exports.intersex=exports.female=exports.male=void 0;const e="male";exports.male=e;const t="female";exports.female=t;const o="intersex";exports.intersex=o;const s="none";exports.none=s;
},{}],"ZMRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.names=void 0;let e=["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans","Edwards","Collins","Stewart","Sanchez","Morris","Rogers","Reed","Cook","Morgan","Bell","Murphy","Bailey","Rivera","Cooper","Richardson","Cox","Howard","Ward","Torres","Peterson","Gray","Ramirez","James","Watson","Brooks","Kelly","Sanders","Price","Bennett","Wood","Barnes","Ross","Henderson","Coleman","Jenkins","Perry","Powell","Long","Patterson","Hughes","Flores","Washington","Butler","Simmons","Foster","Gonzales","Bryant","Alexander","Russell","Griffin","Diaz","Hayes","Myers","Ford","Hamilton","Graham","Sullivan","Wallace","Woods","Cole","West","Jordan","Owens","Reynolds","Fisher","Ellis","Harrison","Gibson","Mcdonald","Cruz","Marshall","Ortiz","Gomez","Murray","Freeman","Wells","Webb","Simpson","Stevens","Tucker","Porter","Hunter","Hicks","Crawford","Henry","Boyd","Mason","Morales","Kennedy","Warren","Dixon","Ramos","Reyes","Burns","Gordon","Shaw","Holmes","Rice","Robertson","Hunt","Black","Daniels","Palmer","Mills","Nichols","Grant","Knight","Ferguson","Rose","Stone","Hawkins","Dunn","Perkins","Hudson","Spencer","Gardner","Stephens","Payne","Pierce","Berry","Matthews","Arnold","Wagner","Willis","Ray","Watkins","Olson","Carroll","Duncan","Snyder","Hart","Cunningham","Bradley","Lane","Andrews","Ruiz","Harper","Fox","Riley","Armstrong","Carpenter","Weaver","Greene","Lawrence","Elliott","Chavez","Sims","Austin","Peters","Kelley","Franklin","Lawson","Fields","Gutierrez","Ryan","Schmidt","Carr","Vasquez","Castillo","Wheeler","Chapman","Oliver","Montgomery","Richards","Williamson","Johnston","Banks","Meyer","Bishop","Mccoy","Howell","Alvarez","Morrison","Hansen","Fernandez","Garza","Harvey","Little","Burton","Stanley","Nguyen","George","Jacobs","Reid","Kim","Fuller","Lynch","Dean","Gilbert","Garrett","Romero","Welch","Larson","Frazier","Burke","Hanson","Day","Mendoza","Moreno","Bowman","Medina","Fowler","Brewer","Hoffman","Carlson","Silva","Pearson","Holland","Douglas","Fleming","Jensen","Vargas","Byrd","Davidson","Hopkins","May","Terry","Herrera","Wade","Soto","Walters","Curtis","Neal","Caldwell","Lowe","Jennings","Barnett","Graves","Jimenez","Horton","Shelton","Barrett","Obrien","Castro","Sutton","Gregory","Mckinney","Lucas","Miles","Craig","Rodriquez","Chambers","Holt","Lambert","Fletcher","Watts","Bates","Hale","Rhodes","Pena","Beck","Newman","Haynes","Mcdaniel","Mendez","Bush","Vaughn","Parks","Dawson","Santiago","Norris","Hardy","Love","Steele","Curry","Powers","Schultz","Barker","Guzman","Page","Munoz","Ball","Keller","Chandler","Weber","Leonard","Walsh","Lyons","Ramsey","Wolfe","Schneider","Mullins","Benson","Sharp","Bowen","Daniel","Barber","Cummings","Hines","Baldwin","Griffith","Valdez","Hubbard","Salazar","Reeves","Warner","Stevenson","Burgess","Santos","Tate","Cross","Garner","Mann","Mack","Moss","Thornton","Dennis","Mcgee","Farmer","Delgado","Aguilar","Vega","Glover","Manning","Cohen","Harmon","Rodgers","Robbins","Newton","Todd","Blair","Higgins","Ingram","Reese","Cannon","Strickland","Townsend","Potter","Goodwin","Walton","Rowe","Hampton","Ortega","Patton","Swanson","Joseph","Francis","Goodman","Maldonado","Yates","Becker","Erickson","Hodges","Rios","Conner","Adkins","Webster","Norman","Malone","Hammond","Flowers","Cobb","Moody","Quinn","Blake","Maxwell","Pope","Floyd","Osborne","Paul","Mccarthy","Guerrero","Lindsey","Estrada","Sandoval","Gibbs","Tyler","Gross","Fitzgerald","Stokes","Doyle","Sherman","Saunders","Wise","Colon","Gill","Alvarado","Greer","Padilla","Simon","Waters","Nunez","Ballard","Schwartz","Mcbride","Houston","Christensen","Klein","Pratt","Briggs","Parsons","Mclaughlin","Zimmerman","French","Buchanan","Moran","Copeland","Roy","Pittman","Brady","Mccormick","Holloway","Brock","Poole","Frank","Logan","Owen","Bass","Marsh","Drake","Wong","Jefferson","Park","Morton","Abbott","Sparks","Patrick","Norton","Huff","Clayton","Massey","Lloyd","Figueroa","Carson","Bowers","Roberson","Barton","Tran","Lamb","Harrington","Casey","Boone","Cortez","Clarke","Mathis","Singleton","Wilkins","Cain","Bryan","Underwood","Hogan","Mckenzie","Collier","Luna","Phelps","Mcguire","Allison","Bridges","Wilkerson","Nash","Summers","Atkins","Wilcox","Pitts","Conley","Marquez","Burnett","Richard","Cochran","Chase","Davenport","Hood","Gates","Clay","Ayala","Sawyer","Roman","Vazquez","Dickerson","Hodge","Acosta","Flynn","Espinoza","Nicholson","Monroe","Wolf","Morrow","Kirk","Randall","Anthony","Whitaker","Oconnor","Skinner","Ware","Molina","Kirby","Huffman","Bradford","Charles","Gilmore","Dominguez","Oneal","Bruce","Lang","Combs","Kramer","Heath","Hancock","Gallagher","Gaines","Shaffer","Short","Wiggins","Mathews","Mcclain","Fischer","Wall","Small","Melton","Hensley","Bond","Dyer","Cameron","Grimes","Contreras","Christian","Wyatt","Baxter","Snow","Mosley","Shepherd","Larsen","Hoover","Beasley","Glenn","Petersen","Whitehead","Meyers","Keith","Garrison","Vincent","Shields","Horn","Savage","Olsen","Schroeder","Hartman","Woodard","Mueller","Kemp","Deleon","Booth","Patel","Calhoun","Wiley","Eaton","Cline","Navarro","Harrell","Lester","Humphrey","Parrish","Duran","Hutchinson","Hess","Dorsey","Bullock","Robles","Beard","Dalton","Avila","Vance","Rich","Blackwell","York","Johns","Blankenship","Trevino","Salinas","Campos","Pruitt","Moses","Callahan","Golden","Montoya","Hardin","Guerra","Mcdowell","Carey","Stafford","Gallegos","Henson","Wilkinson","Booker","Merritt","Miranda","Atkinson","Orr","Decker","Hobbs","Preston","Tanner","Knox","Pacheco","Stephenson","Glass","Rojas","Serrano","Marks","Hickman","English","Sweeney","Strong","Prince","Mcclure","Conway","Walter","Roth","Maynard","Farrell","Lowery","Hurst","Nixon","Weiss","Trujillo","Ellison","Sloan","Juarez","Winters","Mclean","Randolph","Leon","Boyer","Villarreal","Mccall","Gentry","Carrillo","Kent","Ayers","Lara","Shannon","Sexton","Pace","Hull","Leblanc","Browning","Velasquez","Leach","Chang","House","Sellers","Herring","Noble","Foley","Bartlett","Mercado","Landry","Durham","Walls","Barr","Mckee","Bauer","Rivers","Everett","Bradshaw","Pugh","Velez","Rush","Estes","Dodson","Morse","Sheppard","Weeks","Camacho","Bean","Barron","Livingston","Middleton","Spears","Branch","Blevins","Chen","Kerr","Mcconnell","Hatfield","Harding","Ashley","Solis","Herman","Frost","Giles","Blackburn","William","Pennington","Woodward","Finley","Mcintosh","Koch","Best","Solomon","Mccullough","Dudley","Nolan","Blanchard","Rivas","Brennan","Mejia","Kane","Benton","Joyce","Buckley","Haley","Valentine","Maddox","Russo","Mcknight","Buck","Moon","Mcmillan","Crosby","Berg","Dotson","Mays","Roach","Church","Chan","Richmond","Meadows","Faulkner","Oneill","Knapp","Kline","Barry","Ochoa","Jacobson","Gay","Avery","Hendricks","Horne","Shepard","Hebert","Cherry","Cardenas","Mcintyre","Whitney","Waller","Holman","Donaldson","Cantu","Terrell","Morin","Gillespie","Fuentes","Tillman","Sanford","Bentley","Peck","Key","Salas","Rollins","Gamble","Dickson","Battle","Santana","Cabrera","Cervantes","Howe","Hinton","Hurley","Spence","Zamora","Yang","Mcneil","Suarez","Case","Petty","Gould","Mcfarland","Sampson","Carver","Bray","Rosario","Macdonald","Stout","Hester","Melendez","Dillon","Farley","Hopper","Galloway","Potts","Bernard","Joyner","Stein","Aguirre","Osborn","Mercer","Bender","Franco","Rowland","Sykes","Benjamin","Travis","Pickett","Crane","Sears","Mayo","Dunlap","Hayden","Wilder","Mckay","Coffey","Mccarty","Ewing","Cooley","Vaughan","Bonner","Cotton","Holder","Stark","Ferrell","Cantrell","Fulton","Lynn","Lott","Calderon","Rosa","Pollard","Hooper","Burch","Mullen","Fry","Riddle","Levy","David","Duke","Odonnell","Guy","Michael","Britt","Frederick","Daugherty","Berger","Dillard","Alston","Jarvis","Frye","Riggs","Chaney","Odom","Duffy","Fitzpatrick","Valenzuela","Merrill","Mayer","Alford","Mcpherson","Acevedo","Donovan","Barrera","Albert","Cote","Reilly","Compton","Raymond","Mooney","Mcgowan","Craft","Cleveland","Clemons","Wynn","Nielsen","Baird","Stanton","Snider","Rosales","Bright","Witt","Stuart","Hays","Holden","Rutledge","Kinney","Clements","Castaneda","Slater","Hahn","Emerson","Conrad","Burks","Delaney","Pate","Lancaster","Sweet","Justice","Tyson","Sharpe","Whitfield","Talley","Macias","Irwin","Burris","Ratliff","Mccray","Madden","Kaufman","Beach","Goff","Cash","Bolton","Mcfadden","Levine","Good","Byers","Kirkland","Kidd","Workman","Carney","Dale","Mcleod","Holcomb","England","Finch","Head","Burt","Hendrix","Sosa","Haney","Franks","Sargent","Nieves","Downs","Rasmussen","Bird","Hewitt","Lindsay","Le","Foreman","Valencia","Oneil","Delacruz","Vinson","Dejesus","Hyde","Forbes","Gilliam","Guthrie","Wooten","Huber","Barlow","Boyle","Mcmahon","Buckner","Rocha","Puckett","Langley","Knowles","Cooke","Velazquez","Whitley","Noel","Vang","Boris"];exports.names=e;
},{}],"IZvH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRandomInt=s,exports.randomGenes=f,exports.getRandom=i,exports.randomSex=p,exports.randomChars=c,exports.randomHalfName=m,exports.randomName=d,exports.distance=h,exports.lerp=y;var e=require("./types/geneNames"),t=u(require("./gene")),r=a(require("./types/sex")),n=require("./types/names");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function f(){let r=new Map;for(let n of e.geneNames)r.set(n,new t.default(n));return r}function i(e,t){let r=t;for(;r===t;){let t=Object.keys(e);r=t[s(0,t.length)]}return e[r]}function p(){return Math.random()<.02?r.intersex:Math.random()>.5?r.male:r.female}function l(){return Math.random().toString(36).substr(2,5)}function c(){return l()+l()+l()}function m(){return n.names[s(0,n.names.length)]}function d(){return n.names[s(0,n.names.length)]+" "+n.names[s(0,n.names.length)]}function h(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function y(e,t,r){return e*(1-r)+t*r}
},{"./types/geneNames":"ZCa7","./gene":"ijVA","./types/sex":"AzXr","./types/names":"ZMRw"}],"ytae":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./util"));function e(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return e=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=e();if(i&&i.has(t))return i.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var n=s?Object.getOwnPropertyDescriptor(t,a):null;n&&(n.get||n.set)?Object.defineProperty(r,a,n):r[a]=t[a]}return r.default=t,i&&i.set(t,r),r}class r{constructor(e,i,r,s,a){this.world=e,this.name=t.randomChars(),this.quantity=i||t.getRandomInt(1,101),this.quality=r||t.getRandomInt(1,101),this.originalQuality=this.quality,this.x=s||t.getRandomInt(-100,101),this.y=a||t.getRandomInt(-100,101),this.age=0,this.eventCallback=function(){},this.destroyed=!1}update(){this.quality===this.originalQuality&&(this.eventCallback("create",this),delete this.originalQuality),this.quality-=.2*this.world.speed,setTimeout(function(){this.eventCallback("update",this)}.bind(this),1),this.value()<=0&&this.destroy()}value(){return this.quality<=0?-1:this.quantity/100*(this.quality+50)}destroy(){this.eventCallback("destroy",this),this.world.removeFood(this),this.destroyed=!0}}exports.default=r;
},{"./util":"IZvH"}],"cskT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asexual=exports.mating=void 0;const e="mating";exports.mating=e;const t="asexual";exports.asexual=t;
},{}],"ksQy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(t,s){this.x=t,this.y=s}add(t){this.x+=t.x,this.y+=t.y}subtract(t){this.x-=t.x,this.y-=t.y}multiply(t){this.x*=t,this.y*=t}divide(t){this.x/=t,this.y/=t}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalise(){0===this.x&&0===this.y||this.divide(this.magnitude())}}exports.default=t;
},{}],"P31e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./types/sex")),e=a(require("./types/reproductionMethod")),i=o(require("./food")),s=o(require("./vector")),r=a(require("./util"));function o(t){return t&&t.__esModule?t:{default:t}}function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=s?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=t[r]}return i.default=t,e&&e.set(t,i),i}class n{constructor(i,s,o,h,a,n){this.world=i,this.genes=s||r.randomGenes(),this.name=o||r.randomName(),this.age=0,this.food=h||100,this.health=100,this.dead=!1,this.x=a||r.getRandomInt(-100,101),this.y=n||r.getRandomInt(-100,101),this.reproductionMethod=e.asexual,this.sex=this.reproductionMethod===e.asexual?t.none:r.randomSex(),this.lastReproduction=0,this.lookingForMate=!1,this.target=void 0,this.generation=0,this.destroyed=!1,this.eventCallback=function(){}}reproduce(t){let i=void 0,s=r.randomHalfName()+" "+this.name.split(" ")[1],o=this.food/100*this.genes.get("reproduceFoodGiven").num;if(o<50||this.food-o<50)return!1;switch(this.reproductionMethod){case e.asexual:i=new n(this.world,this.genes,s,o,this.x,this.y);break;default:let r=new Map,h=Object.keys(this.genes).map(t=>Math.random()),a=0;for(let[t,e]of this.genes)h[a]>.5&&r.set(t,e),a++;a=0;for(let[e,i]of t.genes)h[a]<.5&&r.set(e,i),a++;i=new n(this.world,r,s,o,this.x,this.y)}return i.generation=this.generation+1,this.food-=o,this.eventCallback("reproduce",{creature:this,child:i}),this.world.addCreature(i),i}mutate(){let t=Array.from(this.genes.keys()),e=this.genes.get(t[r.getRandomInt(0,t.length)]).mutate();return this.eventCallback("mutate",{creature:this,gene:e}),e}die(){this.dead=!0,this.eventCallback("die",this)}destroy(){this.eventCallback("destroy",this),this.world.removeCreature(this),this.destroyed=!0}eat(t){if(t.value()<=0)return t.destroy(),!1;let e=.15*this.genes.get("eatingSpeed").num*this.world.speed;void 0===t.food?(this.food+=e*((t.quality+50)/100),t.quantity-=e):(this.food+=t.value()/(t.food/e),t.food-=e,t.food<0&&t.destroy()),t.update(),this.eventCallback("eat",{creature:this,food:t})}move(t){if(void 0===t||!0===t.destroyed)return void(this.target=void 0);if(r.distance(this,t)<5)return this.target=void 0,!0;let e=.01*(this.genes.get("movingSpeed").num+50-this.food/100)*this.world.speed;this.food-=e/15;let i=this.world.creatures.filter(t=>t!==this&&r.distance(this,t)<50);if(i.length>0){let t=new s.default(0,0);for(let e of i){let i=new s.default(this.x-e.x,this.y-e.y);i.normalise(),t.add(i)}t.divide(i.length),t.normalise(),this.x+=.2*t.x,this.y+=.2*t.y}let o=t.x-this.x,h=t.y-this.y,a=Math.sqrt(o*o+h*h);o/=a,h/=a;Math.atan(h,o);let n=o*e,d=h*e;return this.x+=n,this.y+=d,!1}value(){return.75*this.food+20}update(){if(this.dead)return this.eventCallback("update",this),!1;if(Math.random()<this.genes.get("mutateChance").num/1e4*this.world.speed&&this.mutate(),this.food>5*this.genes.get("reproduceFoodNeeded").num&&this.age>this.genes.get("reproductionAgeNeeded").num/5&&this.age>this.lastReproduction+this.genes.get("reproductionCooldown").num/10)if(this.reproductionMethod===e.asexual)this.reproduce(),this.lastReproduction=this.age;else{let t=this.world.creatures.filter(t=>t.reproductionMethod===e.mating&&!0===t.lookingForMate&&t!==this).sort((t,e)=>r.distance(this,t)-r.distance(this,e));this.lookingForMate=!0,t.length>0&&(r.distance(this,t[0])<10?(this.reproduce(t[0]),this.target=void 0,this.lookingForMate=!1,this.lastReproduction=this.age):this.target=t[0])}else this.lookingForMate=!1;let t=this.world.food.concat(this.world.creatures.filter(t=>t.dead)).sort((t,e)=>r.distance(this,t)-r.distance(this,e)),i=t.filter(t=>r.distance(this,t)<5);if(i.length>0)this.eat(i[0]);else{let e=t=>t.value()-Math.pow(r.distance(this,t)),i=t.sort((t,i)=>e(t)-e(i)),s=[];for(let t of this.world.creatures.filter(t=>t!==this))s.push(t.target);this.target=this.lookingForMate&&this.target?this.target:i[0]}return 0===this.age&&this.eventCallback("create",this),this.move(this.target),this.age+=this.genes.get("ageDegrade").num/100*this.world.speed,this.food-=.02*this.genes.get("hungerDegrade").num*this.world.speed,this.food<=0?(this.die(),this.destroy(),!1):this.age>=100||this.health<=0?(this.die(),!1):void this.eventCallback("update",this)}}exports.default=n;
},{"./types/sex":"AzXr","./types/reproductionMethod":"cskT","./food":"ytae","./vector":"ksQy","./util":"IZvH"}],"huj8":[function(require,module,exports) {
"use strict";function e(e){return{x:document.getElementById("sandbox").offsetWidth/100*((e.x+100)/2),y:document.getElementById("sandbox").offsetWidth/100*((e.y+100)/2)}}function t(){let e=sandbox.style.width?sandbox.style.width:"2000px";return parseFloat(e.replace("px",""))/2e3}function n(){let e=sandbox.style.width?sandbox.style.width:"2000px";return parseFloat(e.replace("px",""))}function o(e){return parseFloat(e.toPrecision(3))}function r(e){return e.replace(" ","_")}function s(e,t,n){let o,r,s;if(0==t)o=r=s=n;else{let i=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=n<.5?n*(1+t):n+t-n*t,d=2*n-l;o=i(d,l,e+1/3),r=i(d,l,e),s=i(d,l,e-1/3)}return[Math.round(255*o),Math.round(255*r),Math.round(255*s)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getWindowPosition=e,exports.sizeFactor=t,exports.sizeAmount=n,exports.showNumber=o,exports.makeID=r,exports.hslToRgb=s,exports.addLog=l;let i=0;function l(e){let t=document.getElementById("log"),n=t.innerText.split("\n");n.length>=10&&(t.innerText=n.splice(1).join("\n"));let o=document.createElement("div");o.innerText=e,t.appendChild(o),t.className="show",i++,setTimeout(function(){let n=[...t.children].find(t=>t.innerText===e);void 0!==n&&(1===t.children.length&&(t.className=""),t.removeChild(n))},2500)}
},{}],"BZay":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=l,exports.update=u,exports.destroy=i;var e=n(require("./util")),t=n(require("/js/sim/util"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,t&&t.set(e,n),n}let o=[..."🍇🍈🍉🍊🍋🍌🍍🥭🍎🍏🍐🍑🍒🍓🥝🍅🥥🥑🍆🥔🥕🌽🌶🥒🥬🥦🍄🥜🌰🍞🥐🥖🥨🥯🥞🧀🍖🍗🥩🥓🍔🍟🍕🌭🥪🌮🌯🥙🍳🥘🍲🥣🥗🍿🧂🥫🍱🍘🍙🍚🍛🍜🍝🍠🍢🍣🍤🍥🥮🍡🥟🥠🥡🍦🍧🍨🍩🍪🎂🍰🧁🥧🍫🍬🍭🍮🍯🍼🥛☕🍵🍶🍾🍷🍸🍹🍺🍻🥂🥃🥤"];function l(e){if(null!==document.getElementById(`food-${e.name}`))return!1;let r=document.createElement("div");return r.id=`food-${e.name}`,r.className="food",r.setAttribute("data-before-content",o[t.getRandomInt(0,o.length)]),r.style.setProperty("--before-opacity","0"),document.getElementById("sandbox").appendChild(r),u(e),!0}function u(t){let r=document.getElementById(`food-${t.name}`);if(null===r)return!1;let n=e.getWindowPosition(t);r.style.left=`${n.x}px`,r.style.top=`${n.y}px`;let o=t.quantity*e.sizeFactor();return o=o<15?15:o,r.style.width=`${o}px`,r.style.height=`${o}px`,r.style.lineHeight=`${o}px`,!0===t.world.options.emojiMode?(r.style.setProperty("--before-size",`${o}px`),r.style.backgroundColor="transparent",r.style.setProperty("--before-opacity","1"),r.innerText=""):(r.style.setProperty("--before-opacity","0"),r.style.backgroundColor=`rgb(0, ${2.55*t.quality}, 0)`,r.innerText=Math.round(t.value())),!0}function i(e){return null!==document.getElementById(`food-${e.name}`)&&(document.getElementById("sandbox").removeChild(document.getElementById(`food-${e.name}`)),!0)}
},{"./util":"huj8","/js/sim/util":"IZvH"}],"UhLL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Window=o,exports.dragElement=r;var e=n(require("./util"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t();if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var d=r?Object.getOwnPropertyDescriptor(e,i):null;d&&(d.get||d.set)?Object.defineProperty(o,i,d):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function o(t,n,o){let i=document.createElement("div");i.id=`window-${e.makeID(t)}`,i.className="window",i.style.left=`${n}px`,i.style.top=`${o}px`;let d=document.createElement("header");d.innerText=t,i.appendChild(d);let u=document.createElement("div");u.className="window-close",u.onclick=function(){document.body.removeChild(i)},d.appendChild(u);let l=document.createElement("div");return l.className="window-body",i.appendChild(l),r(i),document.body.appendChild(i),[i,l]}function r(t){var n=0,o=0,r=0,i=0;function d(e){(e=e||window.event).preventDefault(),r=e.clientX,i=e.clientY,document.onmouseup=l,document.onmousemove=u}function u(d){(d=d||window.event).preventDefault(),n=r-d.clientX,o=i-d.clientY,r=d.clientX,i=d.clientY;let u=t.offsetTop-o,l=t.offsetLeft-n;if("sandbox"===t.id){for(u=u>0?0:u,l=l>0?0:l;u+e.sizeAmount()<window.innerHeight-10;)u++;for(;l+e.sizeAmount()<window.innerWidth-10;)l++}t.style.top=u+"px",t.style.left=l+"px"}function l(){document.onmouseup=null,document.onmousemove=null}document.getElementById(t.id+"-header")?document.getElementById(t.id+"-header").onmousedown=d:t.onmousedown=d}
},{"./util":"huj8"}],"ZYw1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=d,exports.die=i,exports.update=u,exports.destroy=c,exports.mutate=m,exports.eat=s,exports.reproduce=y;var e=l(require("./util")),t=l(require("/js/sim/util")),n=l(require("./food")),o=require("./window");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=o?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}return n.default=e,t&&t.set(e,n),n}function a(e,t){t.innerHTML="";let n=[["Food",Math.round(e.food)],["Age",Math.round(e.age)],["Sex",e.sex],["Generation",e.generation],["lastReproduction",e.lastReproduction],["lookingForMate",e.lookingForMate]];for(let o of n){let e=document.createElement("div");e.className="row";let n=document.createElement("div");n.className="row-left",n.innerText=o[0];let r=document.createElement("div");r.className="row-right",r.innerText=o[1],e.appendChild(n),e.appendChild(r),t.appendChild(e)}}function d(t){if(null!==document.getElementById(`creature-${t.name}`))return!1;let n=document.createElement("div");return n.id=`creature-${e.makeID(t.name)}`,n.className="creature",n.onclick=function(e){[...document.getElementsByClassName("window")].forEach(e=>document.body.removeChild(e));let n=(0,o.Window)(t.name,e.clientX,e.clientY);a(t,n[1])},document.getElementById("sandbox").appendChild(n),u(t),!0}function i(t){let n=document.getElementById(`creature-${e.makeID(t.name)}`);if(null!==n)return!1;n.classList.add("dead-creature"),n.style.color="#ffffff",n.style.backgroundColor="gray",e.addLog(`${t.name} died`),f("skull",5,t)}function u(t){let n=document.getElementById(`creature-${e.makeID(t.name)}`);if(null===n)return!1;let o=document.getElementById(`window-${e.makeID(t.name)}`);null!==o&&a(t,o.children[1]),isNaN(t.food)&&console.warn(t),n.innerText=t.name.split(" ").join("\n");let r=e.getWindowPosition(t);n.style.left=`${r.x}px`,n.style.top=`${r.y}px`;let l=t.world.creatures.map(e=>e.food).sort((e,t)=>t-e)[0],d=t.food/l*80+40;d*=e.sizeFactor(),n.style.width=`${d}px`,n.style.height=`${d}px`,n.style.lineHeight=`${d/2}px`,n.style.fontSize=`${d/5}px`,n.style.backgroundColor=`hsl(${3.6*t.genes.get("colorHue").num}, 100%, ${t.genes.get("colorLightness").num}%)`;let i=n.style.backgroundColor.replace("rgb(","").replace(")","").split(", ").map(e=>parseFloat(e)),u=.299*i[0]+.587*i[1]+.114*i[2];return n.style.color=u>180?"#1f1f1f":"#ffffff",!0}function c(t){if(null===document.getElementById(`creature-${e.makeID(t.name)}`))return console.log(t.name),!1;document.getElementById("sandbox").removeChild(document.getElementById(`creature-${e.makeID(t.name)}`));let n=document.getElementById(`window-${e.makeID(t.name)}`);return null!==n&&document.body.removeChild(n),!0}function m({creature:t,gene:n}){e.addLog(`${t.name} mutated (${n.name})`),f("mutate",5,t)}function s({creature:e,food:t}){n.update(t)}function f(e,t,n){for(let o=0;o<t;o++)setTimeout(function(){p(e,n)},50*o)}function p(n,o){let r=e.getWindowPosition(o),l=document.createElement("div");l.className="particle-container";let a=t.getRandomInt(-30,31),d=t.getRandomInt(30,71);l.style.left=`${r.x-a}px`,l.style.top=`${r.y-d}px`,l.style.transitionDuration=`${1e3/o.world.speed}ms`;let i=document.createElement("div");i.className=n,l.appendChild(i),document.getElementById("sandbox").appendChild(l),setTimeout(function(){l.style.opacity=0,l.style.top=`${r.y-d-50}px`},10),setTimeout(function(){document.getElementById("sandbox").removeChild(l)},1e3/o.world.speed)}function y({creature:t,child:n}){e.addLog(`${t.name} reproduced (${n.name})`),f("heart",5,t)}
},{"./util":"huj8","/js/sim/util":"IZvH","./food":"BZay","./window":"UhLL"}],"O2IH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UIWorld=c,exports.UIInit=p;var e=d(require("./creature")),t=d(require("./food")),n=d(require("./util")),o=require("./window");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){var r=o?Object.getOwnPropertyDescriptor(e,d):null;r&&(r.get||r.set)?Object.defineProperty(n,d,r):n[d]=e[d]}return n.default=e,t&&t.set(e,n),n}let r="full";async function i(t,n){let o=e[t];void 0!==o&&o(n)}async function u(e,n){let o=t[e];void 0!==o&&o(n)}async function a(o,l){if("addCreature"===o&&(l.eventCallback=i),"removeCreature"===o&&e.destroy(l),"addFood"===o&&(l.eventCallback=u),"removeFood"===o&&t.destroy(l),"update"===o&&(document.getElementById("play").style.display=l.paused?"inline":"none",document.getElementById("pause").style.display=l.paused?"none":"inline",document.getElementById("sf").innerText=`${n.showNumber(l.speed)}x`,document.getElementById("zf").innerText=`${n.showNumber(n.sizeFactor())}x`,document.getElementById("elapsed").innerText=`${s(l)}`,"full"===r)){let e=document.getElementById("sandbox"),t=e.style.width.replace("px",""),n=window.innerWidth-10;if(window.innerHeight>n&&(n=window.innerHeight-10),t!=n){e.style.width=`${n}px`,e.style.height=`${n}px`;let t=0;t=t>0?0:t,e.style.top=`${t}px`;let o=0;o=o>0?0:o,e.style.left=`${o}px`}}}function s(e){let t=Math.floor(e.elapsedTime/1e3);if(t>=60){return`${Math.floor(t/60)}:${t=1===(t=Math.floor(t%60)).toString().length?`0${t}`:t}`}return t.toString()}function c(e){e.eventCallback=a,window.onload=function(){p(e)},e.options.emojiMode=!1}function p(n){let l=!1;document.onkeypress=function(o){if(!l){if(console.log(o),"Space"===o.code&&(n.paused=!n.paused),">"===o.key&&(n.speed+=.25),"<"===o.key&&(n.speed-=.25),"d"===o.key){let e=document.getElementById("debug");document.getElementById("debug").className=""===e.className?"show":""}let d=!1;if("="===o.key){let e=document.getElementById("sandbox"),t=e.style.width?e.style.width:"2000px",n=parseFloat(t.replace("px",""))+500;e.style.width=`${n}px`,e.style.height=`${n}px`,d=!0}if("-"===o.key){let e=document.getElementById("sandbox"),t=e.style.width?e.style.width:"2000px",n=parseFloat(t.replace("px",""))-500,o=(n=n<window.innerWidth?500*(Math.floor(window.innerWidth/500)+1):n)!==t;if(e.style.width=`${n}px`,e.style.height=`${n}px`,o){let t=parseFloat(e.style.top.replace("px",""))+500;t=t>0?0:t,e.style.top=`${t}px`;let n=parseFloat(e.style.left.replace("px",""))+500;n=n>0?0:n,e.style.left=`${n}px`,d=!0}}if("f"===o.key&&(r="full"===r?"dynamic":"full"),"e"===o.key&&(n.options.emojiMode=!n.options.emojiMode,d=!0),l=!0,!0===d){for(let t of n.creatures)e.update(t);for(let e of n.food)t.update(e)}}o.preventDefault()},document.onkeyup=function(){l=!1},document.getElementById("play").onclick=function(){n.paused=!1},document.getElementById("pause").onclick=function(){n.paused=!0},document.getElementById("slow").onclick=function(){n.speed-=.25},document.getElementById("fast").onclick=function(){n.speed+=.25},document.getElementById("restart").onclick=function(){n.restart()},(0,o.dragElement)(document.getElementById("sandbox"))}
},{"./creature":"ZYw1","./food":"BZay","./util":"huj8","./window":"UhLL"}],"kXE5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./food")),t=a(require("./creature")),s=require("../ui/main"),r=n(require("./util")),i=n(require("/js/ui/util"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=r?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(s,i,n):s[i]=e[i]}return s.default=e,t&&t.set(e,s),s}function a(e){return e&&e.__esModule?e:{default:e}}class d{constructor(e,t){this.food=e||[],this.creatures=t||[],this.eventCallback=function(){},this.updateTimes=[],this.updates=0,this.ups=0,this.lastAddedFood=0,this.paused=!1,this.speed=1,this.elapsedTime=0,this.updateBetween=100,this.options={},setTimeout(this.update.bind(this),100),setInterval(function(){this.ups=this.updates,this.updates=0}.bind(this),1e3)}update(){if(this.paused)return setTimeout(this.update.bind(this),this.updateBetween),void this.eventCallback("update",this);let s=performance.now();for(let e of this.creatures)e.update();let r=performance.now()-s;for(var o=this.food.length-1;o>=0;o--)this.food[o].update();let n=performance.now()-s;if(0===this.creatures.length||0===this.creatures.filter(e=>!e.dead).length)for(let e=0;e<5;e++)this.addCreature(new t.default(this,void 0));this.food.length<20&&performance.now()-this.lastAddedFood>500/this.speed&&(this.addFood(new e.default(this)),this.lastAddedFood=performance.now());let a=performance.now()-s;this.updateTimes.push(a),this.updateTimes.length>50&&this.updateTimes.shift();let d=this.creatures.map(e=>e.generation);d=d.sort((e,t)=>e-t);let u=Math.floor(d.length/2),h=0;h=d.length%2?d[u]:(d[u-1]+d[u])/2;try{document.getElementById("debug").innerText=`Current: ${i.showNumber(a)}ms\nAverage: ${i.showNumber(this.updateTimes.reduce((e,t)=>t+=e)/this.updateTimes.length)}ms\nMin: ${i.showNumber(Math.min(...this.updateTimes))}ms\nMax: ${i.showNumber(Math.max(...this.updateTimes))}ms\nTime between: ${i.showNumber(this.updateBetween)}ms\nCompensated: ${i.showNumber(this.updateBetween-a)}ms\n\nCreature: ${i.showNumber(r)}ms\nFood: ${i.showNumber(n)}ms\n\nUPS: ${this.ups}\n\nEntities: ${this.creatures.length+this.food.length}\nFood: ${this.food.length}\n\nCreatures: ${this.creatures.length} - ${this.creatures.filter(e=>e.dead).length} dead\nMedian Gen: ${h}\nMax Gen: ${Math.max(...d)}`}catch(l){console.error(l)}a=performance.now()-s,setTimeout(this.update.bind(this),this.updateBetween-a),this.updates++,this.elapsedTime+=this.updateBetween*this.speed,this.eventCallback("update",this)}addFood(e){this.food.push(e),this.eventCallback("addFood",e)}removeFood(e){this.food.splice(this.food.indexOf(e),1),this.eventCallback("removeFood",e)}addCreature(e){this.creatures.push(e),this.eventCallback("addCreature",e)}removeCreature(e){this.creatures.splice(this.creatures.indexOf(e),1),this.eventCallback("removeCreature",e)}inWorld(e){return this.creatures.includes(e)||this.food.includes(e)}restart(){for(let e of[...this.creatures])e.destroy(),this.removeCreature(e);for(let e of[...this.food])e.destroy(),this.removeFood(e);this.elapsedTime=0,this.lastAddedFood=0}}exports.default=d,window._world=new d,(0,s.UIWorld)(window._world);
},{"./food":"ytae","./creature":"P31e","../ui/main":"O2IH","./util":"IZvH","/js/ui/util":"huj8"}],"QdeU":[function(require,module,exports) {
"use strict";require("/js/sim/world");
},{"/js/sim/world":"kXE5"}]},{},["QdeU"], null)
//# sourceMappingURL=/app.3a036af4.js.map